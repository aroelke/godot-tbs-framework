[gd_scene load_steps=14 format=4 uid="uid://dq2q8b0axoftt"]

[ext_resource type="PackedScene" uid="uid://p5cw5rndfqun" path="res://src/TbsTemplate/Scenes/Level/Events/LevelManager.tscn" id="1_3r8kd"]
[ext_resource type="PackedScene" uid="uid://dgsv1t18thon5" path="res://src/TbsTemplate/Scenes/Level/Map/Grid.tscn" id="2_oeidl"]
[ext_resource type="Resource" uid="uid://420nufm5mgjd" path="res://demo/assets/terrain/plain.tres" id="3_akw2u"]
[ext_resource type="TileSet" uid="uid://cqqq5romj5brh" path="res://demo/assets/tileset.tres" id="4_yu7ov"]
[ext_resource type="PackedScene" uid="uid://1ev2yxu31ow" path="res://src/TbsTemplate/Scenes/Level/Object/Group/Army.tscn" id="5_oeidl"]
[ext_resource type="Resource" uid="uid://broidqni4h8ak" path="res://demo/factions/DemoPlayerFaction.tres" id="6_akw2u"]
[ext_resource type="PackedScene" uid="uid://drlrlusbfh208" path="res://src/TbsTemplate/Scenes/Level/Control/PlayerController.tscn" id="7_tajn8"]
[ext_resource type="Resource" uid="uid://dxvcd01bu3ovj" path="res://demo/factions/DemoEnemyFaction1.tres" id="7_yu7ov"]
[ext_resource type="Resource" uid="uid://0dcwfdljw4ug" path="res://demo/factions/DemoEnemyFaction2.tres" id="8_edc7l"]
[ext_resource type="Texture2D" uid="uid://ybe0dod1kvqr" path="res://demo/assets/map/kenney_tiny-battle/cursor.png" id="8_s2xnc"]
[ext_resource type="Texture2D" uid="uid://dplsgxw6yc37j" path="res://demo/assets/ui/kenney_cursor-pack/pointer_b_shaded_cropped.png" id="9_hkfkd"]
[ext_resource type="PackedScene" uid="uid://ca6g5c6dsaqjb" path="res://src/TbsTemplate/Scenes/Level/Control/AIController.tscn" id="9_s2xnc"]
[ext_resource type="PackedScene" uid="uid://cb1gfyilefvvj" path="res://demo/unit/ShortTank.tscn" id="10_1ger5"]

[node name="DemoMap" type="Node"]

[node name="LevelManager" parent="." node_paths=PackedStringArray("StartingArmy") instance=ExtResource("1_3r8kd")]
StartingArmy = NodePath("Player")

[node name="Grid" parent="LevelManager" node_paths=PackedStringArray("GroundLayer", "TerrainLayer") instance=ExtResource("2_oeidl")]
GroundLayer = NodePath("Ground")
TerrainLayer = NodePath("Terrain")
DefaultTerrain = ExtResource("3_akw2u")

[node name="Ground" type="TileMapLayer" parent="LevelManager/Grid"]
tile_map_data = PackedByteArray("AAAAAAAAAQAAAAAAAAAAAAEAAQABAAAAAAAAAAIAAQAAAAAAAAAAAAMAAQABAAAAAAAAAAQAAQAAAAAAAAAAAAUAAQAAAAAAAAAAAAYAAQAAAAAAAAAAAAcAAQAAAAAAAAAAAAgAAQAAAAAAAAAAAAkAAQAAAAAAAAAAAAoAAQAAAAAAAAAAAAsAAQACAAAAAAAAAAwAAQAAAAAAAAAAAA0AAQAAAAAAAAAAAA4AAQAAAAAAAAABAAAAAQAAAAAAAAABAAEAAQAAAAAAAAABAAIAAQABAAAAAAABAAMAAQAAAAAAAAABAAQAAQAAAAAAAAABAAUAAQABAAAAAAABAAYAAQAAAAAAAAABAAcAAQAAAAAAAAABAAgAAQAAAAAAAAABAAkAAQABAAAAAAABAAoAAQAAAAAAAAABAAsAAQABAAAAAAABAAwAAQAAAAAAAAABAA0AAQABAAAAAAABAA4AAQAAAAAAAAACAAAAAQAAAAAAAAACAAEAAQABAAAAAAACAAIAAQABAAAAAAACAAMAAQAAAAAAAAACAAQAAQAAAAAAAAACAAUAAQAAAAAAAAACAAYAAQACAAAAAAACAAcAAQABAAAAAAACAAgAAQAAAAAAAAACAAkAAQACAAAAAAACAAoAAQACAAAAAAACAAsAAQAAAAAAAAACAAwAAQABAAAAAAACAA0AAQABAAAAAAACAA4AAQAAAAAAAAADAAAAAQAAAAAAAAADAAEAAQACAAAAAAADAAIAAQAAAAAAAAADAAMAAQABAAAAAAADAAQAAQAAAAAAAAADAAUAAQAAAAAAAAADAAYAAQAAAAAAAAADAAcAAQAAAAAAAAADAAgAAQAAAAAAAAADAAkAAQAAAAAAAAADAAoAAQAAAAAAAAADAAsAAQABAAAAAAADAAwAAQAAAAAAAAADAA0AAQACAAAAAAADAA4AAQABAAAAAAAEAAAAAQABAAAAAAAEAAEAAQAAAAAAAAAEAAIAAQAAAAAAAAAEAAMAAQABAAAAAAAEAAQAAQAAAAAAAAAEAAUAAQAAAAAAAAAEAAYAAQAAAAAAAAAEAAcAAQAAAAAAAAAEAAgAAQAAAAAAAAAEAAkAAQAAAAAAAAAEAAoAAQABAAAAAAAEAAsAAQABAAAAAAAEAAwAAQAAAAAAAAAEAA0AAQABAAAAAAAEAA4AAQABAAAAAAAFAAAAAQAAAAAAAAAFAAEAAQAAAAAAAAAFAAIAAQACAAAAAAAFAAMAAQAAAAAAAAAFAAQAAQAAAAAAAAAFAAUAAQABAAAAAAAFAAYAAQAAAAAAAAAFAAcAAQAAAAAAAAAFAAgAAQAAAAAAAAAFAAkAAQAAAAAAAAAFAAoAAQAAAAAAAAAFAAsAAQAAAAAAAAAFAAwAAQAAAAAAAAAFAA0AAQAAAAAAAAAFAA4AAQAAAAAAAAAGAAAAAQAAAAAAAAAGAAEAAQABAAAAAAAGAAIAAQAAAAAAAAAGAAMAAQAAAAAAAAAGAAQAAQABAAAAAAAGAAUAAQAAAAAAAAAGAAYAAQAAAAAAAAAGAAcAAQACAAAAAAAGAAgAAQAAAAAAAAAGAAkAAQAAAAAAAAAGAAoAAQABAAAAAAAGAAsAAQABAAAAAAAGAAwAAQAAAAAAAAAGAA0AAQAAAAAAAAAGAA4AAQAAAAAAAAAHAAAAAQABAAAAAAAHAAEAAQABAAAAAAAHAAIAAQACAAAAAAAHAAMAAQAAAAAAAAAHAAQAAQAAAAAAAAAHAAUAAQAAAAAAAAAHAAYAAQAAAAAAAAAHAAcAAQAAAAAAAAAHAAgAAQACAAAAAAAHAAkAAQACAAAAAAAHAAoAAQAAAAAAAAAHAAsAAQAAAAAAAAAHAAwAAQAAAAAAAAAHAA0AAQAAAAAAAAAHAA4AAQABAAAAAAAIAAAAAQAAAAAAAAAIAAEAAQAAAAAAAAAIAAIAAQAAAAAAAAAIAAMAAQAAAAAAAAAIAAQAAQAAAAAAAAAIAAUAAQAAAAAAAAAIAAYAAQAAAAAAAAAIAAcAAQABAAAAAAAIAAgAAQACAAAAAAAIAAkAAQABAAAAAAAIAAoAAQABAAAAAAAIAAsAAQAAAAAAAAAIAAwAAQAAAAAAAAAIAA0AAQAAAAAAAAAIAA4AAQAAAAAAAAAJAAAAAQACAAAAAAAJAAEAAQAAAAAAAAAJAAIAAQAAAAAAAAAJAAMAAQABAAAAAAAJAAQAAQAAAAAAAAAJAAUAAQABAAAAAAAJAAYAAQAAAAAAAAAJAAcAAQAAAAAAAAAJAAgAAQABAAAAAAAJAAkAAQABAAAAAAAJAAsAAQAAAAAAAAAJAAwAAQABAAAAAAAJAA0AAQAAAAAAAAAJAA4AAQAAAAAAAAAKAAAAAQAAAAAAAAAKAAEAAQAAAAAAAAAKAAIAAQAAAAAAAAAKAAMAAQAAAAAAAAAKAAQAAQAAAAAAAAAKAAUAAQAAAAAAAAAKAAYAAQACAAAAAAAKAAcAAQAAAAAAAAAKAAgAAQAAAAAAAAAKAAsAAQAAAAAAAAAKAAwAAQABAAAAAAAKAA0AAQAAAAAAAAAKAA4AAQAAAAAAAAALAAAAAQABAAAAAAALAAEAAQAAAAAAAAALAAIAAQAAAAAAAAALAAMAAQAAAAAAAAALAAQAAQACAAAAAAALAAUAAQAAAAAAAAALAAYAAQAAAAAAAAALAAcAAQAAAAAAAAALAAgAAQAAAAAAAAALAAoAAQABAAAAAAALAAsAAQAAAAAAAAALAAwAAQAAAAAAAAALAA0AAQAAAAAAAAALAA4AAQAAAAAAAAAMAAAAAQAAAAAAAAAMAAEAAQAAAAAAAAAMAAIAAQAAAAAAAAAMAAMAAQAAAAAAAAAMAAQAAQAAAAAAAAAMAAUAAQACAAAAAAAMAAYAAQAAAAAAAAAMAAkAAQAAAAAAAAAMAAoAAQAAAAAAAAAMAAsAAQAAAAAAAAAMAAwAAQAAAAAAAAAMAA0AAQAAAAAAAAAMAA4AAQABAAAAAAANAAAAAQABAAAAAAANAAEAAQABAAAAAAANAAIAAQABAAAAAAANAAMAAQABAAAAAAANAAQAAQAAAAAAAAANAAUAAQAAAAAAAAANAAgAAQAAAAAAAAANAAkAAQAAAAAAAAANAAoAAQAAAAAAAAANAAsAAQABAAAAAAANAAwAAQAAAAAAAAANAA0AAQAAAAAAAAANAA4AAQAAAAAAAAAOAAAAAQAAAAAAAAAOAAEAAQAAAAAAAAAOAAIAAQAAAAAAAAAOAAMAAQAAAAAAAAAOAAQAAQAAAAAAAAAOAAcAAQABAAAAAAAOAAgAAQABAAAAAAAOAAkAAQAAAAAAAAAOAAoAAQABAAAAAAAOAAsAAQAAAAAAAAAOAAwAAQAAAAAAAAAOAA0AAQABAAAAAAAOAA4AAQACAAAAAAAPAAAAAQAAAAAAAAAPAAEAAQACAAAAAAAPAAIAAQABAAAAAAAPAAMAAQAAAAAAAAAPAAQAAQABAAAAAAAPAAUAAQAAAAAAAAAPAAYAAQAAAAAAAAAPAAcAAQAAAAAAAAAPAAgAAQAAAAAAAAAPAAkAAQABAAAAAAAPAAoAAQABAAAAAAAPAAsAAQABAAAAAAAPAAwAAQAAAAAAAAAPAA0AAQAAAAAAAAAPAA4AAQAAAAAAAAAQAAAAAQABAAAAAAAQAAEAAQAAAAAAAAAQAAIAAQAAAAAAAAAQAAMAAQAAAAAAAAAQAAQAAQAAAAAAAAAQAAUAAQAAAAAAAAAQAAYAAQAAAAAAAAAQAAcAAQAAAAAAAAAQAAgAAQAAAAAAAAAQAAkAAQAAAAAAAAAQAAoAAQAAAAAAAAAQAAsAAQAAAAAAAAAQAAwAAQABAAAAAAAQAA0AAQAAAAAAAAAQAA4AAQABAAAAAAARAAAAAQAAAAAAAAARAAEAAQAAAAAAAAARAAIAAQABAAAAAAARAAMAAQABAAAAAAARAAQAAQAAAAAAAAARAAUAAQAAAAAAAAARAAYAAQAAAAAAAAARAAcAAQABAAAAAAARAAgAAQAAAAAAAAARAAkAAQAAAAAAAAARAAoAAQAAAAAAAAARAAsAAQAAAAAAAAARAAwAAQAAAAAAAAARAA0AAQABAAAAAAARAA4AAQAAAAAAAAASAAAAAQABAAAAAAASAAEAAQAAAAAAAAASAAIAAQACAAAAAAASAAMAAQAAAAAAAAASAAQAAQABAAAAAAASAAUAAQABAAAAAAASAAYAAQAAAAAAAAASAAcAAQAAAAAAAAASAAgAAQAAAAAAAAASAAkAAQAAAAAAAAASAAoAAQAAAAAAAAASAAsAAQAAAAAAAAASAAwAAQABAAAAAAASAA0AAQAAAAAAAAASAA4AAQABAAAAAAATAAAAAQAAAAAAAAATAAEAAQAAAAAAAAATAAIAAQABAAAAAAATAAMAAQAAAAAAAAATAAQAAQABAAAAAAATAAUAAQAAAAAAAAATAAYAAQAAAAAAAAATAAcAAQAAAAAAAAATAAgAAQAAAAAAAAATAAkAAQAAAAAAAAATAAoAAQAAAAAAAAATAAsAAQAAAAAAAAATAAwAAQACAAAAAAATAA0AAQACAAAAAAATAA4AAQAAAAAAAAAJAAoAAQABAAAAAAAKAAoAAQABAAAAAAAKAAkAAQAAAAAAAAALAAkAAQACAAAAAAAMAAgAAQAAAAAAAAAMAAcAAQACAAAAAAANAAcAAQAAAAAAAAANAAYAAQAAAAAAAAAOAAYAAQAAAAAAAAAOAAUAAQABAAAAAAA=")
tile_set = ExtResource("4_yu7ov")

[node name="Terrain" type="TileMapLayer" parent="LevelManager/Grid"]
tile_map_data = PackedByteArray("AAATAAkAAQACAAMAAAATAAgAAQACAAIAAAATAAcAAQACAAIAAAATAAYAAQACAAIAAAATAAUAAQACAAIAAAATAAQAAQACAAEAAAASAAkAAQABAAMAAAASAAgAAQABAAIAAAASAAcAAQABAAIAAAASAAYAAQABAAIAAAASAAUAAQABAAIAAAASAAQAAQABAAEAAAARAAkAAQABAAMAAAARAAgAAQABAAIAAAARAAcAAQABAAIAAAARAAYAAQABAAIAAAARAAUAAQABAAIAAAARAAQAAQABAAEAAAAQAAkAAQABAAMAAAAQAAgAAQABAAIAAAAQAAcAAQABAAIAAAAQAAYAAQABAAIAAAAQAAUAAQABAAIAAAAQAAQAAQABAAEAAAAPAAkAAQAAAAMAAAAPAAgAAQADAAUAAAAPAAcAAQABAAIAAAAPAAYAAQABAAIAAAAPAAUAAQAAAAUAAAAPAAQAAQAAAAEAAAAOAAgAAQAAAAMAAAAOAAcAAQAAAAIAAAAOAAYAAQAAAAIAAAAOAAUAAQAAAAEAAAATAAIAAQACAAMAAAATAAEAAQACAAIAAAATAAAAAQACAAEAAAASAAIAAQABAAMAAAASAAEAAQABAAIAAAASAAAAAQABAAEAAAARAAIAAQAAAAMAAAARAAEAAQAAAAIAAAARAAAAAQAAAAEAAAACAAYAAQACAAMAAAACAAUAAQACAAIAAAACAAQAAQACAAEAAAABAAYAAQABAAMAAAABAAUAAQABAAIAAAABAAQAAQABAAEAAAAAAAYAAQAAAAMAAAAAAAUAAQAAAAIAAAAAAAQAAQAAAAEAAAARAAsAAQAKAAQAAAARAAoAAQAIAAQAAAA=")
tile_set = ExtResource("4_yu7ov")

[node name="Objects" type="TileMapLayer" parent="LevelManager/Grid"]
tile_map_data = PackedByteArray("AAASAAIAAQAKAAMAAAABAAYAAQAKAAIAAAA=")
tile_set = ExtResource("4_yu7ov")

[node name="Player" parent="LevelManager" instance=ExtResource("5_oeidl")]
Faction = ExtResource("6_akw2u")

[node name="PlayerController" parent="LevelManager/Player" instance=ExtResource("7_tajn8")]
CursorSpriteTexture = ExtResource("8_s2xnc")
CursorSpriteOffset = Vector2(8, 8)
PointerSpriteTexture = ExtResource("9_hkfkd")

[node name="PlayerA" parent="LevelManager/Player" node_paths=PackedStringArray("Grid") instance=ExtResource("10_1ger5")]
position = Vector2(96, 144)
Grid = NodePath("../../Grid")
Cell = Vector2i(6, 9)
Size = Vector2(16, 16)

[node name="PlayerB" parent="LevelManager/Player" node_paths=PackedStringArray("Grid") instance=ExtResource("10_1ger5")]
position = Vector2(112, 128)
Grid = NodePath("../../Grid")
Cell = Vector2i(7, 8)
Size = Vector2(16, 16)

[node name="PlayerC" parent="LevelManager/Player" node_paths=PackedStringArray("Grid") instance=ExtResource("10_1ger5")]
position = Vector2(128, 144)
Grid = NodePath("../../Grid")
Cell = Vector2i(8, 9)
Size = Vector2(16, 16)

[node name="PlayerD" parent="LevelManager/Player" node_paths=PackedStringArray("Grid") instance=ExtResource("10_1ger5")]
position = Vector2(112, 160)
Grid = NodePath("../../Grid")
Cell = Vector2i(7, 10)
Size = Vector2(16, 16)

[node name="Enemy1" parent="LevelManager" instance=ExtResource("5_oeidl")]
Faction = ExtResource("7_yu7ov")

[node name="AIController" parent="LevelManager/Enemy1" instance=ExtResource("9_s2xnc")]

[node name="ReinforcementA" parent="LevelManager/Enemy1" node_paths=PackedStringArray("Grid") instance=ExtResource("10_1ger5")]
Grid = NodePath("../../Grid")
Size = Vector2(16, 16)

[node name="Enemy2" parent="LevelManager" instance=ExtResource("5_oeidl")]
Faction = ExtResource("8_edc7l")

[node name="AIController" parent="LevelManager/Enemy2" instance=ExtResource("9_s2xnc")]

[node name="Ally" parent="LevelManager" instance=ExtResource("5_oeidl")]
Faction = ExtResource("6_akw2u")

[node name="AIController" parent="LevelManager/Ally" instance=ExtResource("9_s2xnc")]

[connection signal="child_entered_tree" from="LevelManager/Player" to="LevelManager" method="OnChildEnteredGroup"]
[connection signal="child_entered_tree" from="LevelManager/Enemy1" to="LevelManager" method="OnChildEnteredGroup"]
[connection signal="child_entered_tree" from="LevelManager/Enemy2" to="LevelManager" method="OnChildEnteredGroup"]
[connection signal="child_entered_tree" from="LevelManager/Ally" to="LevelManager" method="OnChildEnteredGroup"]
