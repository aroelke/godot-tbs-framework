[gd_scene load_steps=50 format=4 uid="uid://bmfxux38ovtj2"]

[ext_resource type="PackedScene" uid="uid://p5cw5rndfqun" path="res://src/TbsTemplate/Scenes/Level/Events/LevelManager.tscn" id="1_h3e4w"]
[ext_resource type="Script" uid="uid://cr1h1lebyon02" path="res://demo2/TestMap.cs" id="1_stn1b"]
[ext_resource type="AudioStream" uid="uid://dlm0x8f7oe33c" path="res://demo2/assets/raw/Legendary_JRPG_Battle_Music_Pack/Battle-Conflict_loop/Battle-Conflict_loop.ogg" id="2_d2oip"]
[ext_resource type="PackedScene" uid="uid://dgsv1t18thon5" path="res://src/TbsTemplate/Scenes/Level/Map/Grid.tscn" id="2_trttl"]
[ext_resource type="Resource" uid="uid://bn6uq3ysywt60" path="res://demo2/terrain/plain.tres" id="3_ft5ge"]
[ext_resource type="TileSet" uid="uid://dmybpcxxs4xxy" path="res://demo2/assets/environment/tiles/objects.tres" id="4_n7v2y"]
[ext_resource type="PackedScene" uid="uid://1ev2yxu31ow" path="res://src/TbsTemplate/Scenes/Level/Object/Group/Army.tscn" id="4_xrn4s"]
[ext_resource type="PackedScene" uid="uid://b0cvutx2lj5uy" path="res://src/TbsTemplate/Scenes/Level/Object/Unit.tscn" id="5_ju5kl"]
[ext_resource type="Resource" uid="uid://jx7j3y6gwjps" path="res://demo2/factions/TestPlayerFaction.tres" id="6_qur3m"]
[ext_resource type="Resource" uid="uid://bqexj8hqh32xd" path="res://demo2/TestSoldier.tres" id="7_crsy2"]
[ext_resource type="TileSet" uid="uid://cwhi2yq5gtey5" path="res://demo2/assets/level/ui/Overlay.tres" id="7_d17w6"]
[ext_resource type="Resource" uid="uid://rw7lv271d7de" path="res://demo2/stats/TestPlayerStats.tres" id="8_1sr4q"]
[ext_resource type="Script" uid="uid://bn88gak3m7r31" path="res://src/TbsTemplate/Scenes/Level/Layers/SpecialActionRegion.cs" id="8_kin6v"]
[ext_resource type="Resource" uid="uid://xatocb6uwrwx" path="res://demo2/stats/TestEnemyStats1.tres" id="9_g2gda"]
[ext_resource type="PackedScene" uid="uid://bsnwitybsx8xd" path="res://src/TbsTemplate/Scenes/Level/Map/OccupantHighlighter.tscn" id="9_xbntu"]
[ext_resource type="Resource" uid="uid://dp74yifhop864" path="res://demo2/factions/TestEnemyFaction1.tres" id="10_k4gkn"]
[ext_resource type="PackedScene" uid="uid://drlrlusbfh208" path="res://src/TbsTemplate/Scenes/Level/Control/PlayerController.tscn" id="12_8av15"]
[ext_resource type="Resource" uid="uid://cbi1a2igyxbt4" path="res://demo2/factions/TestEnemyFaction2.tres" id="12_8r5wl"]
[ext_resource type="Texture2D" uid="uid://dhxxyboxchr67" path="res://demo2/assets/level/ui/cursor.png" id="13_ft20a"]
[ext_resource type="Resource" uid="uid://cljpmwsb1nbjt" path="res://demo2/factions/TestAllyFaction.tres" id="14_hmodb"]
[ext_resource type="Texture2D" uid="uid://cxm1nnwu5sl6r" path="res://demo2/assets/ui/mouse.png" id="14_xm3qp"]
[ext_resource type="TileSet" uid="uid://b784dfhc051bt" path="res://demo2/assets/level/ui/Path.tres" id="15_m3ubj"]
[ext_resource type="AudioStream" uid="uid://bg4mbs7d25qaj" path="res://demo2/assets/raw/JDSherbert - Ultimate UI SFX Pack/Free/Mono/wav (HD)/JDSherbert - Ultimate UI SFX Pack - Select - 1.wav" id="15_ueqnm"]
[ext_resource type="AudioStream" uid="uid://dupekispcuwj8" path="res://demo2/assets/raw/JDSherbert - Ultimate UI SFX Pack/Free/Mono/wav (HD)/JDSherbert - Ultimate UI SFX Pack - Cursor - 5.wav" id="15_wtg14"]
[ext_resource type="Script" uid="uid://cdy07gqijlx5a" path="res://src/TbsTemplate/Data/Stats.cs" id="15_y2o8i"]
[ext_resource type="AudioStream" uid="uid://b4dbo5h2e7ru4" path="res://demo2/assets/raw/JDSherbert - Ultimate UI SFX Pack/Free/Mono/wav (HD)/JDSherbert - Ultimate UI SFX Pack - Cancel - 1.wav" id="16_v7xow"]
[ext_resource type="PackedScene" uid="uid://ca6g5c6dsaqjb" path="res://src/TbsTemplate/Scenes/Level/Control/AIController.tscn" id="17_2a1se"]
[ext_resource type="PackedScene" uid="uid://bottrwv1ptmbg" path="res://src/TbsTemplate/Scenes/Level/Objectives/AnyObjective.tscn" id="17_atmq1"]
[ext_resource type="AudioStream" uid="uid://oyebi18i5hmn" path="res://demo2/assets/raw/JDSherbert - Ultimate UI SFX Pack/Free/Mono/wav (HD)/JDSherbert - Ultimate UI SFX Pack - Error - 1.wav" id="17_gwpty"]
[ext_resource type="AudioStream" uid="uid://dx4swhb5suesh" path="res://demo2/assets/raw/JDSherbert - Ultimate UI SFX Pack/Free/Mono/wav (HD)/JDSherbert - Ultimate UI SFX Pack - Popup Open - 1.wav" id="18_05dee"]
[ext_resource type="PackedScene" uid="uid://nt5vqytk4pr3" path="res://src/TbsTemplate/Scenes/Level/Control/StandBehavior.tscn" id="19_obmv3"]
[ext_resource type="PackedScene" uid="uid://bdxrle0amq3ew" path="res://src/TbsTemplate/Scenes/Level/Objectives/TimeObjective.tscn" id="19_rxp4c"]
[ext_resource type="AudioStream" uid="uid://fpepi63ytykk" path="res://demo2/assets/raw/JDSherbert - Ultimate UI SFX Pack/Free/Mono/wav (HD)/JDSherbert - Ultimate UI SFX Pack - Popup Close - 1.wav" id="19_wtg14"]
[ext_resource type="PackedScene" uid="uid://bi38gny50edyk" path="res://src/TbsTemplate/Scenes/Level/Objectives/RouteObjective.tscn" id="20_1l8iw"]
[ext_resource type="PackedScene" uid="uid://djsdk3bbrh181" path="res://src/TbsTemplate/Scenes/Level/Control/MoveBehavior.tscn" id="20_1vdvi"]
[ext_resource type="PackedScene" uid="uid://7wc21qvj7n3n" path="res://src/TbsTemplate/Scenes/Level/Objectives/DefeatUnitObjective.tscn" id="20_6u8j8"]
[ext_resource type="PackedScene" uid="uid://cseefrkj1yhgr" path="res://src/TbsTemplate/Scenes/Level/Control/SwitchBehavior.tscn" id="21_uo167"]
[ext_resource type="PackedScene" uid="uid://b8dnpt7lcd2it" path="res://src/TbsTemplate/Scenes/Level/Objectives/OccupyObjective.tscn" id="22_axkl2"]
[ext_resource type="PackedScene" uid="uid://bbanldfbqkktf" path="res://src/TbsTemplate/Scenes/Level/Control/InRangeSwitchCondition.tscn" id="22_ga18v"]
[ext_resource type="PackedScene" uid="uid://sh1oy4xaqis2" path="res://src/TbsTemplate/Scenes/Level/Control/TurnSwitchCondition.tscn" id="22_tg5mw"]
[ext_resource type="PackedScene" uid="uid://blf1owsru7rvw" path="res://src/TbsTemplate/Scenes/Level/Objectives/ActionObjective.tscn" id="24_h6vny"]
[ext_resource type="PackedScene" uid="uid://bi8p6x3pf3217" path="res://src/TbsTemplate/Scenes/Level/Events/EventController.tscn" id="25_i6qxt"]
[ext_resource type="Theme" uid="uid://on6m2o4031fb" path="res://demo2/assets/ui/Hints.tres" id="28_y0mi7"]
[ext_resource type="Texture2D" uid="uid://5if38wokibin" path="res://demo2/assets/raw/Pixel Health Bar/Bar/no health bar (3x).png" id="35_ga18v"]
[ext_resource type="PackedScene" uid="uid://dar0v4k4aqvpv" path="res://src/TbsTemplate/UI/HUD/CursorHintIcon.tscn" id="35_rm861"]
[ext_resource type="PackedScene" uid="uid://btlhiv0dyhf7o" path="res://src/TbsTemplate/UI/HUD/ControlHint.tscn" id="36_ft20a"]
[ext_resource type="Texture2D" uid="uid://b1rv5edu7ewx" path="res://demo2/assets/raw/Pixel Health Bar/Health/health (3x).png" id="36_s8hgk"]

[sub_resource type="Resource" id="Resource_6fypd"]
script = ExtResource("15_y2o8i")
Health = 10
Attack = 5
Defense = 2
Healing = 0
Accuracy = 100
Evasion = 0
Agility = 1
Move = 0

[sub_resource type="Resource" id="Resource_0pfh3"]
script = ExtResource("15_y2o8i")
Health = 10
Attack = 1
Defense = 3
Healing = 0
Accuracy = 100
Evasion = 0
Agility = 1
Move = 0

[node name="TestMap" type="Node2D"]
script = ExtResource("1_stn1b")
GameOverScreen = "res://demo/TestGameOver.tscn"

[node name="LevelManager" parent="." node_paths=PackedStringArray("StartingArmy") instance=ExtResource("1_h3e4w")]
CombatScenePath = "uid://bn2dxlvq8lqj6"
BackgroundMusic = ExtResource("2_d2oip")
StartingArmy = NodePath("Player")

[node name="Grid" parent="LevelManager" node_paths=PackedStringArray("GroundLayer", "TerrainLayer") instance=ExtResource("2_trttl")]
GroundLayer = NodePath("Ground")
TerrainLayer = NodePath("Terrain")
DefaultTerrain = ExtResource("3_ft5ge")

[node name="Ground" type="TileMapLayer" parent="LevelManager/Grid"]
use_parent_material = true
tile_map_data = PackedByteArray("AAANAAkAAAAAAAAAAAANAAoAAAAAAAAAAAANAAsAAAAAAAAAAAANAAwAAAAAAAAAAAANAA0AAAAAAAAAAAANAA4AAAAAAAAAAAAOAAkAAAAAAAAAAAAOAAoAAAAAAAAAAAAOAAsAAAAAAAAAAAAOAAwAAAAAAAAAAAAOAA0AAAAAAAAAAAAOAA4AAAAAAAAAAAAPAAkAAAAAAAAAAAAPAAoAAAAAAAAAAAAPAAsAAAAAAAAAAAAPAAwAAAAAAAAAAAAPAA0AAAAAAAAAAAAPAA4AAAAAAAAAAAAQAAkAAAAAAAAAAAAQAAoAAAAAAAAAAAAQAAsAAAAAAAAAAAAQAAwAAAAAAAAAAAAQAA0AAAAAAAAAAAAQAA4AAAAAAAAAAAARAAkAAAAAAAAAAAARAAoAAAAAAAAAAAARAAsAAAAAAAAAAAARAAwAAAAAAAAAAAARAA0AAAAAAAAAAAARAA4AAAAAAAAAAAASAAkAAAAAAAAAAAASAAoAAAAAAAAAAAASAAsAAAAAAAAAAAASAAwAAAAAAAAAAAASAA0AAAAAAAAAAAASAA4AAAAAAAAAAAATAAkAAAAAAAAAAAATAAoAAAAAAAAAAAATAAsAAAAAAAAAAAATAAwAAAAAAAAAAAATAA0AAAAAAAAAAAATAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAA4AAAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAABAAIAAAAAAAAAAAABAAMAAAAAAAAAAAABAAQAAAAAAAAAAAABAAUAAAAAAAAAAAABAAYAAAAAAAAAAAABAAcAAAAAAAAAAAABAAgAAAAAAAAAAAABAAkAAAAAAAAAAAABAAoAAAAAAAAAAAABAAsAAAAAAAAAAAABAAwAAAAAAAAAAAABAA0AAAAAAAAAAAABAA4AAAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAACAAMAAAAAAAAAAAACAAQAAAAAAAAAAAACAAUAAAAAAAAAAAACAAYAAAAAAAAAAAACAAcAAAAAAAAAAAACAAgAAAAAAAAAAAACAAkAAAAAAAAAAAACAAoAAAAAAAAAAAACAAsAAAAAAAAAAAACAAwAAAAAAAAAAAACAA0AAAAAAAAAAAACAA4AAAAAAAAAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAAAAAADAAYAAAAAAAAAAAADAAcAAAAAAAAAAAADAAgAAAAAAAAAAAADAAkAAAAAAAAAAAADAAoAAAAAAAAAAAADAAsAAAAAAAAAAAADAAwAAAAAAAAAAAADAA0AAAAAAAAAAAADAA4AAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAAEAAUAAAAAAAAAAAAEAAYAAAAAAAAAAAAEAAcAAAAAAAAAAAAEAAgAAAAAAAAAAAAEAAkAAAAAAAAAAAAEAAoAAAAAAAAAAAAEAAsAAAAAAAAAAAAEAAwAAAAAAAAAAAAEAA0AAAAAAAAAAAAEAA4AAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAIAAAAAAAAAAAAFAAMAAAAAAAAAAAAFAAQAAAAAAAAAAAAFAAUAAAAAAAAAAAAFAAYAAAAAAAAAAAAFAAcAAAAAAAAAAAAFAAgAAAAAAAAAAAAFAAkAAAAAAAAAAAAFAAoAAAAAAAAAAAAFAAsAAAAAAAAAAAAFAAwAAAAAAAAAAAAFAA0AAAAAAAAAAAAFAA4AAAAAAAAAAAAGAAAAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAAAAAAGAAUAAAAAAAAAAAAGAAYAAAAAAAAAAAAGAAcAAAAAAAAAAAAGAAgAAAAAAAAAAAAGAAkAAAAAAAAAAAAGAAoAAAAAAAAAAAAGAAsAAAAAAAAAAAAGAAwAAAAAAAAAAAAGAA0AAAAAAAAAAAAGAA4AAAAAAAAAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAAAAAAHAAUAAAAAAAAAAAAHAAYAAAAAAAAAAAAHAAcAAAAAAAAAAAAHAAgAAAAAAAAAAAAHAAkAAAAAAAAAAAAHAAoAAAAAAAAAAAAHAAsAAAAAAAAAAAAHAAwAAAAAAAAAAAAHAA0AAAAAAAAAAAAHAA4AAAAAAAAAAAAIAAAAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAIAAAAAAAAAAAAIAAMAAAAAAAAAAAAIAAQAAAAAAAAAAAAIAAUAAAAAAAAAAAAIAAYAAAAAAAAAAAAIAAcAAAAAAAAAAAAIAAgAAAAAAAAAAAAIAAkAAAAAAAAAAAAIAAoAAAAAAAAAAAAIAAsAAAAAAAAAAAAIAAwAAAAAAAAAAAAIAA0AAAAAAAAAAAAIAA4AAAAAAAAAAAAJAAAAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAIAAAAAAAAAAAAJAAMAAAAAAAAAAAAJAAQAAAAAAAAAAAAJAAUAAAAAAAAAAAAJAAYAAAAAAAAAAAAJAAcAAAAAAAAAAAAJAAgAAAAAAAAAAAAJAAkAAAAAAAAAAAAJAAoAAAAAAAAAAAAJAAsAAAAAAAAAAAAJAAwAAAAAAAAAAAAJAA0AAAAAAAAAAAAJAA4AAAAAAAAAAAAKAAAAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAIAAAAAAAAAAAAKAAMAAAAAAAAAAAAKAAQAAAAAAAAAAAAKAAUAAAAAAAAAAAAKAAYAAAAAAAAAAAAKAAcAAAAAAAAAAAAKAAgAAAAAAAAAAAAKAAkAAAAAAAAAAAAKAAoAAAAAAAAAAAAKAAsAAAAAAAAAAAAKAAwAAAAAAAAAAAAKAA0AAAAAAAAAAAAKAA4AAAAAAAAAAAALAAAAAAAAAAAAAAALAAEAAAAAAAAAAAALAAIAAAAAAAAAAAALAAMAAAAAAAAAAAALAAQAAAAAAAAAAAALAAUAAAAAAAAAAAALAAYAAAAAAAAAAAALAAcAAAAAAAAAAAALAAgAAAAAAAAAAAALAAkAAAAAAAAAAAALAAoAAAAAAAAAAAALAAsAAAAAAAAAAAALAAwAAAAAAAAAAAALAA0AAAAAAAAAAAALAA4AAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAEAAAAAAAAAAAAMAAIAAAAAAAAAAAAMAAMAAAAAAAAAAAAMAAQAAAAAAAAAAAAMAAUAAAAAAAAAAAAMAAYAAAAAAAAAAAAMAAcAAAAAAAAAAAAMAAgAAAAAAAAAAAAMAAkAAAAAAAAAAAAMAAoAAAAAAAAAAAAMAAsAAAAAAAAAAAAMAAwAAAAAAAAAAAAMAA0AAAAAAAAAAAAMAA4AAAAAAAAAAAANAAAAAAAAAAAAAAANAAEAAAAAAAAAAAANAAIAAAAAAAAAAAANAAMAAAAAAAAAAAANAAQAAAAAAAAAAAANAAUAAAAAAAAAAAANAAYAAAAAAAAAAAANAAcAAAAAAAAAAAANAAgAAAAAAAAAAAAOAAAAAAAAAAAAAAAOAAEAAAAAAAAAAAAOAAIAAAAAAAAAAAAOAAMAAAAAAAAAAAAOAAQAAAAAAAAAAAAOAAUAAAAAAAAAAAAOAAYAAAAAAAAAAAAOAAcAAAAAAAAAAAAOAAgAAAAAAAAAAAAPAAAAAAAAAAAAAAAPAAEAAAAAAAAAAAAPAAIAAAAAAAAAAAAPAAMAAAAAAAAAAAAPAAQAAAAAAAAAAAAPAAUAAAAAAAAAAAAPAAYAAAAAAAAAAAAPAAcAAAAAAAAAAAAPAAgAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAEAAAAAAAAAAAAQAAIAAAAAAAAAAAAQAAMAAAAAAAAAAAAQAAQAAAAAAAAAAAAQAAUAAAAAAAAAAAAQAAYAAAAAAAAAAAAQAAcAAAAAAAAAAAAQAAgAAAAAAAAAAAARAAAAAAAAAAAAAAARAAEAAAAAAAAAAAARAAIAAAAAAAAAAAARAAMAAAAAAAAAAAARAAQAAAAAAAAAAAARAAUAAAAAAAAAAAARAAYAAAAAAAAAAAARAAcAAAAAAAAAAAARAAgAAAAAAAAAAAASAAAAAAAAAAAAAAASAAEAAAAAAAAAAAASAAIAAAAAAAAAAAASAAMAAAAAAAAAAAASAAQAAAAAAAAAAAASAAUAAAAAAAAAAAASAAYAAAAAAAAAAAASAAcAAAAAAAAAAAASAAgAAAAAAAAAAAATAAAAAAAAAAAAAAATAAEAAAAAAAAAAAATAAIAAAAAAAAAAAATAAMAAAAAAAAAAAATAAQAAAAAAAAAAAATAAUAAAAAAAAAAAATAAYAAAAAAAAAAAATAAcAAAAAAAAAAAATAAgAAAAAAAAAAAA=")
tile_set = ExtResource("4_n7v2y")

[node name="Terrain" type="TileMapLayer" parent="LevelManager/Grid"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAQAAAADAAsAAAAAAAUAAAADAAwAAAAAAAYAAAADAA0AAAABAAQAAAAEAAsAAAABAAUAAAAEAAwAAAABAAYAAAAEAA0AAAACAAQAAAAFAAsAAAACAAUAAAAFAAwAAAACAAYAAAAFAA0AAAASAAUAAAACAAQAAAASAAYAAAACAAUAAAATAAUAAAADAAQAAAATAAYAAAADAAUAAAASAAcAAAACAAQAAAASAAgAAAACAAUAAAATAAcAAAADAAQAAAATAAgAAAADAAUAAAARAAUAAAADAAQAAAARAAYAAAADAAUAAAASAAQAAAAAAAQAAAATAAQAAAABAAQAAAASAAkAAAAAAAUAAAATAAkAAAABAAUAAAARAAcAAAADAAQAAAARAAgAAAADAAUAAAAQAAYAAAACAAUAAAAQAAcAAAACAAQAAAAQAAUAAAACAAQAAAAQAAgAAAACAAUAAAAQAAkAAAAAAAUAAAARAAkAAAABAAUAAAAQAAQAAAAAAAQAAAARAAQAAAABAAQAAAAPAAUAAAAAAAQAAAAPAAYAAAAAAAUAAAAPAAcAAAAAAAQAAAAPAAgAAAAAAAUAAAARAAAAAAAAAA4AAAARAAEAAAAAAA8AAAARAAIAAAAAABAAAAASAAAAAAABAA4AAAASAAEAAAABAA8AAAASAAIAAAABABAAAAATAAAAAAACAA4AAAATAAEAAAACAA8AAAATAAIAAAACABAAAAASAAoAAAAGAAgAAAASAAsAAAAGAAkAAAA=")
tile_set = ExtResource("4_n7v2y")

[node name="Occupy" type="TileMapLayer" parent="LevelManager/Grid"]
modulate = Color(0, 1, 0, 0.392157)
tile_map_data = PackedByteArray("AAAIAA4AAgAAAAMAAAAJAA4AAgABAAMAAAAKAA4AAgABAAMAAAALAA4AAgACAAMAAAA=")
tile_set = ExtResource("7_d17w6")

[node name="Capture" type="TileMapLayer" parent="LevelManager/Grid" node_paths=PackedStringArray("AllowedArmies")]
modulate = Color(1, 1, 1, 0.392157)
tile_map_data = PackedByteArray("AAASAAMAAgABAAUAAAA=")
tile_set = ExtResource("7_d17w6")
script = ExtResource("8_kin6v")
Action = &"Capture"
AllowedArmies = [NodePath("../../Player")]
OneShot = true
"Terrain Set" = 0
Terrain = "selection"

[node name="OccupantHighlighter" parent="LevelManager/Grid" instance=ExtResource("9_xbntu")]
z_index = 100

[node name="Player" parent="LevelManager" instance=ExtResource("4_xrn4s")]
Faction = ExtResource("6_qur3m")

[node name="PlayerController" parent="LevelManager/Player" instance=ExtResource("12_8av15")]
CursorSpriteTexture = ExtResource("13_ft20a")
CursorSpriteOffset = Vector2(16, 16)
PointerSpriteTexture = ExtResource("14_xm3qp")
PathUpArrowCoordinates = Vector2i(6, 1)
PathRightArrowCoordinates = Vector2i(6, 0)
PathDownArrowCoordinates = Vector2i(7, 0)
PathLeftArrowCoordinates = Vector2i(7, 1)
PathArrowheadCoordinates = Dictionary[Vector2, Vector2i]({
Vector2(-1, 0): Vector2i(7, 1),
Vector2(0, -1): Vector2i(6, 1),
Vector2(0, 1): Vector2i(7, 0),
Vector2(1, 0): Vector2i(6, 0)
})
ActionRangeTileSet = ExtResource("7_d17w6")
CursorMoveSound = ExtResource("15_wtg14")
SelectSound = ExtResource("15_ueqnm")
CancelSound = ExtResource("16_v7xow")
ErrorSound = ExtResource("17_gwpty")
ZoneOnSound = ExtResource("18_05dee")
ZoneOffSound = ExtResource("19_wtg14")
MenuHighlightSound = ExtResource("15_wtg14")
PathTileSet = ExtResource("15_m3ubj")
PathTilesSourceId = 3
PathTerrainSet = 0
PathTerrain = 0

[node name="PlayerA" parent="LevelManager/Player" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(224, 256)
Class = ExtResource("7_crsy2")
Stats = ExtResource("8_1sr4q")
SupportRange = PackedInt32Array(1)
Grid = NodePath("../../Grid")
Cell = Vector2i(7, 8)
Size = Vector2(32, 32)

[node name="PlayerB" parent="LevelManager/Player" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(256, 288)
Class = ExtResource("7_crsy2")
Stats = ExtResource("8_1sr4q")
SupportRange = PackedInt32Array(1)
Grid = NodePath("../../Grid")
Cell = Vector2i(8, 9)
Size = Vector2(32, 32)

[node name="PlayerC" parent="LevelManager/Player" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(224, 320)
Class = ExtResource("7_crsy2")
Stats = ExtResource("8_1sr4q")
SupportRange = PackedInt32Array(1)
Grid = NodePath("../../Grid")
Cell = Vector2i(7, 10)
Size = Vector2(32, 32)

[node name="PlayerD" parent="LevelManager/Player" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(192, 288)
Class = ExtResource("7_crsy2")
Stats = ExtResource("8_1sr4q")
SupportRange = PackedInt32Array(1)
Grid = NodePath("../../Grid")
Cell = Vector2i(6, 9)
Size = Vector2(32, 32)

[node name="Enemy" parent="LevelManager" instance=ExtResource("4_xrn4s")]
Faction = ExtResource("10_k4gkn")

[node name="AIController" parent="LevelManager/Enemy" instance=ExtResource("17_2a1se")]
CursorSprite = ExtResource("13_ft20a")
CursorOffset = Vector2(16, 16)

[node name="EnemyA" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(320, 416)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(10, 13)
Size = Vector2(32, 32)

[node name="MoveBehavior" parent="LevelManager/Enemy/EnemyA" instance=ExtResource("20_1vdvi")]

[node name="EnemyB" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(288, 416)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(9, 13)
Size = Vector2(32, 32)

[node name="MoveBehavior" parent="LevelManager/Enemy/EnemyB" instance=ExtResource("20_1vdvi")]

[node name="EnemyC" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(256, 416)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(8, 13)
Size = Vector2(32, 32)

[node name="MoveBehavior" parent="LevelManager/Enemy/EnemyC" instance=ExtResource("20_1vdvi")]

[node name="EnemyD" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(352, 416)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(11, 13)
Size = Vector2(32, 32)

[node name="MoveBehavior" parent="LevelManager/Enemy/EnemyD" instance=ExtResource("20_1vdvi")]

[node name="EnemyE" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(288, 160)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(9, 5)
Size = Vector2(32, 32)

[node name="MoveBehavior" parent="LevelManager/Enemy/EnemyE" instance=ExtResource("20_1vdvi")]

[node name="EnemyF" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(352, 160)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(11, 5)
Size = Vector2(32, 32)

[node name="MoveBehavior" parent="LevelManager/Enemy/EnemyF" instance=ExtResource("20_1vdvi")]

[node name="EnemyG" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(384, 192)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(12, 6)
Size = Vector2(32, 32)

[node name="MoveBehavior" parent="LevelManager/Enemy/EnemyG" instance=ExtResource("20_1vdvi")]

[node name="EnemyH" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(384, 256)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(12, 8)
Size = Vector2(32, 32)

[node name="MoveBehavior" parent="LevelManager/Enemy/EnemyH" instance=ExtResource("20_1vdvi")]

[node name="GuardA" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(576, 96)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(18, 3)
Size = Vector2(32, 32)

[node name="StandBehavior" parent="LevelManager/Enemy/GuardA" instance=ExtResource("19_obmv3")]
AttackInRange = true
SupportInRange = false

[node name="GuardB" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(512, 64)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(16, 2)
Size = Vector2(32, 32)

[node name="SwitchBehavior" parent="LevelManager/Enemy/GuardB" instance=ExtResource("21_uo167")]

[node name="InRangeSwitchCondition" parent="LevelManager/Enemy/GuardB/SwitchBehavior" node_paths=PackedStringArray("SourceUnits", "TriggerArmies") instance=ExtResource("22_ga18v")]
SourceUnits = [NodePath("../..")]
TriggerArmies = [NodePath("../../../../Player")]

[node name="StandBehavior" parent="LevelManager/Enemy/GuardB/SwitchBehavior" instance=ExtResource("19_obmv3")]
AttackInRange = true
SupportInRange = false

[node name="MoveBehavior" parent="LevelManager/Enemy/GuardB/SwitchBehavior" instance=ExtResource("20_1vdvi")]

[node name="GuardC" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(512, 96)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(16, 3)
Size = Vector2(32, 32)

[node name="SwitchBehavior" parent="LevelManager/Enemy/GuardC" instance=ExtResource("21_uo167")]

[node name="InRangeSwitchCondition" parent="LevelManager/Enemy/GuardC/SwitchBehavior" node_paths=PackedStringArray("SourceUnits", "TriggerArmies") instance=ExtResource("22_ga18v")]
SourceUnits = [NodePath("../..")]
TriggerArmies = [NodePath("../../../../Player")]

[node name="StandBehavior" parent="LevelManager/Enemy/GuardC/SwitchBehavior" instance=ExtResource("19_obmv3")]
AttackInRange = true
SupportInRange = false

[node name="MoveBehavior" parent="LevelManager/Enemy/GuardC/SwitchBehavior" instance=ExtResource("20_1vdvi")]

[node name="RoyalGuardA" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(544, 384)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(17, 12)
Size = Vector2(32, 32)

[node name="StandBehavior" parent="LevelManager/Enemy/RoyalGuardA" instance=ExtResource("19_obmv3")]
AttackInRange = true
SupportInRange = false

[node name="RoyalGuardB" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(576, 416)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(18, 13)
Size = Vector2(32, 32)

[node name="StandBehavior" parent="LevelManager/Enemy/RoyalGuardB" instance=ExtResource("19_obmv3")]
AttackInRange = true
SupportInRange = false

[node name="RoyalGuardC" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(608, 384)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(19, 12)
Size = Vector2(32, 32)

[node name="StandBehavior" parent="LevelManager/Enemy/RoyalGuardC" instance=ExtResource("19_obmv3")]
AttackInRange = true
SupportInRange = false

[node name="ReinforcementA" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Size = Vector2(32, 32)

[node name="SwitchBehavior" parent="LevelManager/Enemy/ReinforcementA" instance=ExtResource("21_uo167")]

[node name="TurnSwitchCondition" parent="LevelManager/Enemy/ReinforcementA/SwitchBehavior" instance=ExtResource("22_tg5mw")]
TriggerTurn = 2

[node name="StandBehavior" parent="LevelManager/Enemy/ReinforcementA/SwitchBehavior" instance=ExtResource("19_obmv3")]
SupportInRange = false

[node name="MoveBehavior" parent="LevelManager/Enemy/ReinforcementA/SwitchBehavior" instance=ExtResource("20_1vdvi")]

[node name="ReinforcementB" parent="LevelManager/Enemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(64, 0)
Class = ExtResource("7_crsy2")
Stats = ExtResource("9_g2gda")
AttackRange = PackedInt32Array(1)
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(2, 0)
Size = Vector2(32, 32)

[node name="SwitchBehavior" parent="LevelManager/Enemy/ReinforcementB" instance=ExtResource("21_uo167")]

[node name="TurnSwitchCondition" parent="LevelManager/Enemy/ReinforcementB/SwitchBehavior" instance=ExtResource("22_tg5mw")]
TriggerTurn = 2

[node name="StandBehavior" parent="LevelManager/Enemy/ReinforcementB/SwitchBehavior" instance=ExtResource("19_obmv3")]
SupportInRange = false

[node name="MoveBehavior" parent="LevelManager/Enemy/ReinforcementB/SwitchBehavior" instance=ExtResource("20_1vdvi")]

[node name="OtherEnemy" parent="LevelManager" instance=ExtResource("4_xrn4s")]
Faction = ExtResource("12_8r5wl")

[node name="AIController" parent="LevelManager/OtherEnemy" instance=ExtResource("17_2a1se")]
CursorSprite = ExtResource("13_ft20a")
CursorOffset = Vector2(16, 16)

[node name="OtherEnemyA" parent="LevelManager/OtherEnemy" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(576, 384)
Class = ExtResource("7_crsy2")
Stats = SubResource("Resource_6fypd")
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(18, 12)
Size = Vector2(32, 32)

[node name="StandBehavior" parent="LevelManager/OtherEnemy/OtherEnemyA" instance=ExtResource("19_obmv3")]
AttackInRange = true
SupportInRange = false

[node name="Ally" parent="LevelManager" instance=ExtResource("4_xrn4s")]
Faction = ExtResource("14_hmodb")

[node name="AIController" parent="LevelManager/Ally" instance=ExtResource("17_2a1se")]
CursorSprite = ExtResource("13_ft20a")
CursorOffset = Vector2(16, 16)

[node name="AllyA" parent="LevelManager/Ally" node_paths=PackedStringArray("Grid") instance=ExtResource("5_ju5kl")]
position = Vector2(32, 224)
Class = ExtResource("7_crsy2")
Stats = SubResource("Resource_0pfh3")
SupportRange = PackedInt32Array()
Grid = NodePath("../../Grid")
Cell = Vector2i(1, 7)
Size = Vector2(32, 32)

[node name="StandBehavior" parent="LevelManager/Ally/AllyA" instance=ExtResource("19_obmv3")]
AttackInRange = true

[node name="EventController" parent="." node_paths=PackedStringArray("Success", "Failure") instance=ExtResource("25_i6qxt")]
Success = NodePath("../SuccessObjective")
Failure = NodePath("../FailureObjective")

[node name="SuccessObjective" parent="." instance=ExtResource("17_atmq1")]

[node name="DefeatUnitObjective" parent="SuccessObjective" node_paths=PackedStringArray("Target") instance=ExtResource("20_6u8j8")]
Target = NodePath("../../LevelManager/OtherEnemy/OtherEnemyA")

[node name="OccupyObjective" parent="SuccessObjective" node_paths=PackedStringArray("Region", "Army") instance=ExtResource("22_axkl2")]
Region = NodePath("../../LevelManager/Grid/Occupy")
Army = NodePath("../../LevelManager/Player")
Count = 4

[node name="CaptureObjective" parent="SuccessObjective" node_paths=PackedStringArray("ActionRegion") instance=ExtResource("24_h6vny")]
ActionRegion = NodePath("../../LevelManager/Grid/Capture")

[node name="FailureObjective" parent="." instance=ExtResource("17_atmq1")]

[node name="RouteObjective" parent="FailureObjective" node_paths=PackedStringArray("Target") instance=ExtResource("20_1l8iw")]
Target = NodePath("../../LevelManager/Player")

[node name="DefeatUnitObjective" parent="FailureObjective" node_paths=PackedStringArray("Target") instance=ExtResource("20_6u8j8")]
Target = NodePath("../../LevelManager/Ally/AllyA")

[node name="TimeObjective" parent="FailureObjective" instance=ExtResource("19_rxp4c")]
Turns = 5

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="TurnLabel" type="Label" parent="CanvasLayer"]
offset_right = 213.0
offset_bottom = 45.0
theme = ExtResource("28_y0mi7")
theme_override_font_sizes/font_size = 32
text = "Turn 1: Player"

[node name="ObjectiveLabel" type="Label" parent="CanvasLayer"]
offset_top = 39.0
offset_right = 110.0
offset_bottom = 88.0
theme = ExtResource("28_y0mi7")
text = "Success: None
Failure: Never"

[node name="HUD" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
metadata/_edit_use_anchors_ = true

[node name="Hints" type="HBoxContainer" parent="CanvasLayer/HUD"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -40.0
offset_right = 281.0
grow_vertical = 0
mouse_filter = 2

[node name="CursorHintIcon" parent="CanvasLayer/HUD/Hints" instance=ExtResource("35_rm861")]
layout_mode = 2

[node name="SelectHint" parent="CanvasLayer/HUD/Hints" instance=ExtResource("36_ft20a")]
layout_mode = 2
Description = "Select"
Action = &"select"

[node name="CancelHint" parent="CanvasLayer/HUD/Hints" instance=ExtResource("36_ft20a")]
layout_mode = 2
Description = "Cancel"
Action = &"cancel"

[node name="SkipHint" parent="CanvasLayer/HUD/Hints" instance=ExtResource("36_ft20a")]
layout_mode = 2
Description = "Skip"
Action = &"skip"

[node name="TurnProgress" type="TextureProgressBar" parent="CanvasLayer"]
visible = false
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -415.0
offset_top = -81.0
offset_right = -31.0
offset_bottom = -33.0
grow_horizontal = 0
grow_vertical = 0
texture_under = ExtResource("35_ga18v")
texture_progress = ExtResource("36_s8hgk")

[connection signal="child_entered_tree" from="LevelManager/Player" to="LevelManager" method="OnChildEnteredGroup"]
[connection signal="EnabledInputActionsUpdated" from="LevelManager/Player/PlayerController" to="." method="OnEnabledInputActionsUpdated"]
[connection signal="child_entered_tree" from="LevelManager/Enemy" to="LevelManager" method="OnChildEnteredGroup"]
[connection signal="EnabledInputActionsUpdated" from="LevelManager/Enemy/AIController" to="." method="_on_ai_controller_enabled_input_actions_updated"]
[connection signal="FastForwardStateChanged" from="LevelManager/Enemy/AIController" to="." method="OnArmyControllerFastForwardStateChanged"]
[connection signal="ProgressUpdated" from="LevelManager/Enemy/AIController" to="." method="OnArmyControllerProgressUpdated"]
[connection signal="child_entered_tree" from="LevelManager/OtherEnemy" to="LevelManager" method="OnChildEnteredGroup"]
[connection signal="EnabledInputActionsUpdated" from="LevelManager/OtherEnemy/AIController" to="." method="OnEnabledInputActionsUpdated"]
[connection signal="FastForwardStateChanged" from="LevelManager/OtherEnemy/AIController" to="." method="OnArmyControllerFastForwardStateChanged"]
[connection signal="ProgressUpdated" from="LevelManager/OtherEnemy/AIController" to="." method="OnArmyControllerProgressUpdated"]
[connection signal="child_entered_tree" from="LevelManager/Ally" to="LevelManager" method="OnChildEnteredGroup"]
[connection signal="EnabledInputActionsUpdated" from="LevelManager/Ally/AIController" to="." method="OnEnabledInputActionsUpdated"]
[connection signal="FastForwardStateChanged" from="LevelManager/Ally/AIController" to="." method="OnArmyControllerFastForwardStateChanged"]
[connection signal="ProgressUpdated" from="LevelManager/Ally/AIController" to="." method="OnArmyControllerProgressUpdated"]
