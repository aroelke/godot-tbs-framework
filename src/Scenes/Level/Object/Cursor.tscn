[gd_scene load_steps=6 format=3 uid="uid://bgcsg0l8mj2sn"]

[ext_resource type="Texture2D" uid="uid://dhxxyboxchr67" path="res://assets/level/ui/cursor.png" id="1_erpak"]
[ext_resource type="Script" path="res://src/Scenes/Level/Object/Cursor.cs" id="2_ysrq3"]
[ext_resource type="PackedScene" uid="uid://croni4vvkdn0a" path="res://src/UI/Controls/Action/DigitalMoveAction.tscn" id="3_xkmwu"]
[ext_resource type="PackedScene" uid="uid://vea14yvjwgf3" path="res://src/UI/Controls/Action/AnalogDigitalConverter.tscn" id="4_pjqq2"]
[ext_resource type="AudioStream" uid="uid://dupekispcuwj8" path="res://assets/raw/JDSherbert - Ultimate UI SFX Pack/Free/Mono/wav (HD)/JDSherbert - Ultimate UI SFX Pack - Cursor - 5.wav" id="14_7nv3s"]

[node name="Cursor" type="Node2D"]
script = ExtResource("2_ysrq3")

[node name="MoveController" parent="." instance=ExtResource("3_xkmwu")]
unique_name_in_owner = true

[node name="Converters" type="Node" parent="."]
unique_name_in_owner = true
process_mode = 4

[node name="UpConverter" parent="Converters" instance=ExtResource("4_pjqq2")]
AnalogAction = &"analog_move_up"
DigitalAction = &"digital_move_up"

[node name="LeftConverter" parent="Converters" instance=ExtResource("4_pjqq2")]
AnalogAction = &"analog_move_left"
DigitalAction = &"digital_move_left"

[node name="DownConverter" parent="Converters" instance=ExtResource("4_pjqq2")]
AnalogAction = &"analog_move_down"
DigitalAction = &"digital_move_down"

[node name="RightConverter" parent="Converters" instance=ExtResource("4_pjqq2")]
AnalogAction = &"analog_move_right"
DigitalAction = &"digital_move_right"

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("1_erpak")
offset = Vector2(16, 16)

[node name="MoveSound" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
stream = ExtResource("14_7nv3s")

[connection signal="DirectionEchoed" from="MoveController" to="." method="OnDirectionEchoed"]
[connection signal="DirectionPressed" from="MoveController" to="." method="OnDirectionPressed"]
[connection signal="DirectionReleased" from="MoveController" to="." method="OnDirectionReleased"]
[connection signal="Skip" from="MoveController" to="." method="OnSkip"]
[connection signal="ActionPressed" from="Converters/UpConverter" to="MoveController" method="_UnhandledInput"]
[connection signal="ActionReleased" from="Converters/UpConverter" to="MoveController" method="_UnhandledInput"]
[connection signal="ActionPressed" from="Converters/LeftConverter" to="MoveController" method="_UnhandledInput"]
[connection signal="ActionReleased" from="Converters/LeftConverter" to="MoveController" method="_UnhandledInput"]
[connection signal="ActionPressed" from="Converters/DownConverter" to="MoveController" method="_UnhandledInput"]
[connection signal="ActionReleased" from="Converters/DownConverter" to="MoveController" method="_UnhandledInput"]
[connection signal="ActionPressed" from="Converters/RightConverter" to="MoveController" method="_UnhandledInput"]
[connection signal="ActionReleased" from="Converters/RightConverter" to="MoveController" method="_UnhandledInput"]
